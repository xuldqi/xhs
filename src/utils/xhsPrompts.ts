/**
 * å°çº¢ä¹¦çˆ†æ¬¾åŠ©æ‰‹ - AI Prompt æ¨¡æ¿
 * Xiaohongshu Viral Assistant - AI Prompt Templates
 */

export interface XHSPromptConfig {
    topic?: string;
    title?: string;
    outline?: string;
    temperature?: number;
}

/**
 * å°çº¢ä¹¦çˆ†æ¬¾æ ‡é¢˜ç”Ÿæˆ Prompt
 */
export const generateTitlePrompt = (topic: string): string => {
    return `ä½ æ˜¯ä¸€ä¸ªå°çº¢ä¹¦çˆ†æ¬¾æ–‡æ¡ˆä¸“å®¶ã€‚ç”¨æˆ·è¾“å…¥çš„ä¸»é¢˜æ˜¯ï¼š${topic}

è¯·ç”Ÿæˆ10ä¸ªå°çº¢ä¹¦çˆ†æ¬¾æ ‡é¢˜ï¼Œè¦æ±‚ï¼š
1. ä½¿ç”¨é«˜æƒ…ç»ªè¯æ±‡ï¼ˆå¤ªç»äº†ã€å¿…çœ‹ã€ä¸çœ‹åæ‚”ã€çœŸçš„çˆ±äº†ã€ç»äº†ï¼‰
2. åŠ å…¥å…·ä½“æ•°å­—ï¼ˆ30å¤©ã€5åˆ†é’Ÿã€3æ­¥éª¤ã€10ä¸ªæŠ€å·§ï¼‰
3. ä½¿ç”¨åˆé€‚çš„emojiï¼ˆğŸ”¥ğŸ’¯âœ¨âš¡ï¸ğŸ’°ğŸ¯â¤ï¸ğŸ‘ç­‰ï¼‰
4. åˆ¶é€ æ‚¬å¿µæˆ–åå·®ï¼ˆæ²¡æƒ³åˆ°ã€åŸæ¥ã€ç«Ÿç„¶ã€å±…ç„¶ã€å¤ªéœ‡æƒŠï¼‰
5. é•¿åº¦æ§åˆ¶åœ¨15-25å­—
6. ç¬¦åˆå°çº¢ä¹¦å¹³å°è°ƒæ€§ï¼ˆçœŸè¯šã€æœ‰ç”¨ã€æœ‰è¶£ï¼‰
7. å¯ä»¥ä½¿ç”¨ç–‘é—®å¥æˆ–æ„Ÿå¹å¥å¢å¼ºå¸å¼•åŠ›

ä»¥ JSON æ•°ç»„æ ¼å¼è¾“å‡ºï¼Œåªè¿”å›æ•°ç»„ï¼Œä¸è¦å…¶ä»–è¯´æ˜ã€‚ç¤ºä¾‹æ ¼å¼ï¼š
["æ ‡é¢˜1 ğŸ”¥", "æ ‡é¢˜2 âœ¨", "æ ‡é¢˜3 ğŸ’¯"]`;
};

/**
 * å°çº¢ä¹¦æ–‡æ¡ˆæ‰©å†™ Prompt
 */
export const generateContentPrompt = (title: string, outline: string): string => {
    return `ä½ æ˜¯å°çº¢ä¹¦çˆ†æ¬¾æ–‡æ¡ˆå†™ä½œä¸“å®¶ã€‚

ç”¨æˆ·çš„æ ‡é¢˜ï¼š${title}
ç”¨æˆ·çš„å¤§çº²/è¦ç‚¹ï¼š${outline}

è¯·ç”Ÿæˆä¸€ç¯‡å®Œæ•´çš„å°çº¢ä¹¦æ–‡æ¡ˆï¼Œè¦æ±‚ï¼š
1. å¼€å¤´å¸å¼•äººï¼ˆç”¨emojiã€ç–‘é—®å¥æˆ–æƒŠå¹å¥ï¼Œè®©äººæƒ³ç»§ç»­çœ‹ï¼‰
2. åˆ†æ®µæ¸…æ™°ï¼Œæ¯æ®µ2-4è¡Œï¼Œæ–¹ä¾¿é˜…è¯»
3. é€‚å½“ä½¿ç”¨emojiå¢å¼ºè§†è§‰æ•ˆæœï¼ˆä½†ä¸è¦è¿‡å¤šï¼‰
4. åŠ å…¥å…·ä½“æ¡ˆä¾‹ã€æ•°æ®æˆ–ä¸ªäººç»å†ï¼Œå¢å¼ºå¯ä¿¡åº¦
5. ä½¿ç”¨å£è¯­åŒ–è¡¨è¾¾ï¼Œäº²åˆ‡è‡ªç„¶
6. ç»“å°¾å¼•å¯¼äº’åŠ¨ï¼ˆæé—®ã€å¼•å¯¼è¯„è®ºã€å¼•å¯¼æ”¶è—ç‚¹èµï¼‰
7. æ€»å­—æ•°æ§åˆ¶åœ¨300-600å­—
8. è¯­æ°”è½»æ¾ã€çœŸè¯šã€æœ‰å…±é¸£æ„Ÿ

ç›´æ¥è¾“å‡ºæ–‡æ¡ˆå†…å®¹ï¼Œä¸è¦åŠ "ä»¥ä¸‹æ˜¯æ–‡æ¡ˆ"ç­‰è¯´æ˜ã€‚`;
};

/**
 * å°çº¢ä¹¦å°é¢æ–‡å­—å»ºè®® Prompt
 */
export const generateCoverTextPrompt = (title: string): string => {
    return `åŸºäºå°çº¢ä¹¦ç¬”è®°æ ‡é¢˜ï¼š${title}

è¯·ç”Ÿæˆ5ä¸ªé€‚åˆåšå°é¢æ–‡å­—çš„çŸ­å¥ï¼Œè¦æ±‚ï¼š
1. æ¯å¥6-12å­—
2. é«˜åº¦æ¦‚æ‹¬æ ¸å¿ƒå–ç‚¹æˆ–æœ€å¸å¼•äººçš„ç‚¹
3. å¸¦æœ‰å†²å‡»åŠ›å’Œå¸å¼•åŠ›
4. å¯ä»¥åŠ å…¥1ä¸ªé€‚å½“çš„emoji
5. é€‚åˆå¤§å­—å·æ˜¾ç¤ºåœ¨å°é¢å›¾ç‰‡ä¸Š
6. å¼•å‘å¥½å¥‡å¿ƒæˆ–å…±é¸£

ä»¥ JSON æ•°ç»„æ ¼å¼è¾“å‡ºï¼Œåªè¿”å›æ•°ç»„ã€‚ç¤ºä¾‹æ ¼å¼ï¼š
["çŸ­å¥1 ğŸ”¥", "çŸ­å¥2", "çŸ­å¥3 âœ¨"]`;
};

/**
 * å°çº¢ä¹¦è¯„è®ºå›å¤ç”Ÿæˆ Promptï¼ˆå¢å€¼åŠŸèƒ½ï¼‰
 */
export const generateCommentReplyPrompt = (postContent: string, comment: string): string => {
    return `ä½ æ˜¯ä¸€ä¸ªå°çº¢ä¹¦åšä¸»ï¼Œéœ€è¦å›å¤ç²‰ä¸çš„è¯„è®ºã€‚

ä½ çš„ç¬”è®°å†…å®¹ï¼š${postContent}
ç²‰ä¸è¯„è®ºï¼š${comment}

è¯·ç”Ÿæˆ3ä¸ªä¸åŒé£æ ¼çš„å›å¤ï¼Œè¦æ±‚ï¼š
1. å‹å¥½ã€äº²åˆ‡ã€çœŸè¯š
2. é’ˆå¯¹è¯„è®ºå†…å®¹ç»™å‡ºæœ‰ä»·å€¼çš„å›åº”
3. å¯ä»¥ä½¿ç”¨emojiå¢åŠ äº²å’ŒåŠ›
4. å¯ä»¥é€‚å½“å¼•å¯¼äº’åŠ¨ï¼ˆä½†ä¸è¦å¤ªåˆ»æ„ï¼‰
5. æ¯ä¸ªå›å¤15-50å­—

ä»¥ JSON æ•°ç»„æ ¼å¼è¾“å‡ºã€‚`;
};

/**
 * å°çº¢ä¹¦çˆ†æ¬¾åˆ†æ Promptï¼ˆå¢å€¼åŠŸèƒ½ï¼‰
 */
export const analyzeViralPostPrompt = (postTitle: string, postContent: string, postStats: string): string => {
    return `ä½ æ˜¯å°çº¢ä¹¦è¿è¥ä¸“å®¶ï¼Œè¯·åˆ†æè¿™ç¯‡ç¬”è®°ä¸ºä»€ä¹ˆèƒ½æˆä¸ºçˆ†æ¬¾ã€‚

æ ‡é¢˜ï¼š${postTitle}
æ­£æ–‡ï¼š${postContent}
æ•°æ®ï¼š${postStats}

è¯·ä»ä»¥ä¸‹è§’åº¦åˆ†æï¼š
1. æ ‡é¢˜çš„å¸å¼•åŠ›ç‚¹
2. å†…å®¹ç»“æ„çš„ä¼˜åŠ¿
3. é€‰é¢˜çš„çˆ†æ¬¾æ½œåŠ›
4. æƒ…ç»ªå…±é¸£ç‚¹
5. å¯å¤ç”¨çš„æŠ€å·§

è¾“å‡ºæ ¼å¼ï¼šç®€æ´çš„è¦ç‚¹åˆ—è¡¨ï¼Œæ¯ç‚¹20-50å­—ã€‚`;
};

/**
 * XHS Prompts å·¥å…·é›†åˆ
 */
export const XHS_PROMPTS = {
    title: generateTitlePrompt,
    content: generateContentPrompt,
    coverText: generateCoverTextPrompt,
    commentReply: generateCommentReplyPrompt,
    analyzeViral: analyzeViralPostPrompt,
};

/**
 * é»˜è®¤é…ç½®
 */
export const DEFAULT_XHS_CONFIG = {
    temperature: 0.9, // æ›´æœ‰åˆ›æ„
    maxTokens: 2000,
    model: 'gpt-4o-mini', // æˆæœ¬ä¼˜åŒ–
};
