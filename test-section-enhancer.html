<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç« èŠ‚å¢å¼ºå™¨æµ‹è¯•</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background: #f5f5f5;
    }
    
    .test-section {
      background: white;
      padding: 30px;
      margin: 20px 0;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    h1 {
      color: #333;
      border-bottom: 3px solid #ff2442;
      padding-bottom: 10px;
    }
    
    h2 {
      color: #666;
      margin-top: 30px;
    }
    
    .status {
      padding: 10px;
      margin: 10px 0;
      border-radius: 4px;
      font-weight: 500;
    }
    
    .success {
      background: #d4edda;
      color: #155724;
    }
    
    .error {
      background: #f8d7da;
      color: #721c24;
    }
    
    /* æ•°æ®å¡ç‰‡æ ·å¼ */
    .doc-data-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 16px;
      margin: 20px 0;
    }
    
    .doc-data-card {
      background: #ffffff;
      border: 1px solid #e0e0e0;
      border-left: 4px solid #3b82f6;
      border-radius: 6px;
      padding: 16px;
      text-align: center;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }
    
    .card-label {
      font-size: 12px;
      color: #666;
      margin-bottom: 8px;
      font-weight: 500;
    }
    
    .card-value {
      font-size: 24px;
      font-weight: 700;
      color: #3b82f6;
    }
    
    /* è¡¨æ ¼æ ·å¼ */
    .doc-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
      background: white;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    
    .doc-table th {
      background: #f8f9fa;
      padding: 12px;
      text-align: left;
      font-weight: 600;
      border-bottom: 2px solid #dee2e6;
    }
    
    .doc-table td {
      padding: 12px;
      border-bottom: 1px solid #dee2e6;
    }
    
    .doc-table-title {
      font-size: 16px;
      font-weight: 600;
      color: #1a1a1a;
      margin-bottom: 12px;
      padding-left: 4px;
      border-left: 4px solid #ff2442;
    }
    
    pre {
      background: #f4f4f4;
      padding: 15px;
      border-radius: 4px;
      overflow-x: auto;
    }
  </style>
</head>
<body>
  <div class="test-section">
    <h1>ğŸ“Š ç« èŠ‚å¢å¼ºå™¨åŠŸèƒ½æµ‹è¯•</h1>
    <p>æµ‹è¯• sectionEnhancer å·¥å…·çš„å„é¡¹åŠŸèƒ½</p>
  </div>

  <div class="test-section">
    <h2>æµ‹è¯• 1: è´¦å·è¯Šæ–­ç« èŠ‚</h2>
    <div id="test1-result"></div>
  </div>

  <div class="test-section">
    <h2>æµ‹è¯• 2: èµ·å·ä¸‰å¤©è®¡åˆ’ç« èŠ‚</h2>
    <div id="test2-result"></div>
  </div>

  <div class="test-section">
    <h2>æµ‹è¯• 3: å†…å®¹ç­–ç•¥ç« èŠ‚</h2>
    <div id="test3-result"></div>
  </div>

  <div class="test-section">
    <h2>æµ‹è¯• 4: ç«‹åˆ»è¡ŒåŠ¨æ¸…å•ç« èŠ‚</h2>
    <div id="test4-result"></div>
  </div>

  <script type="module">
    // æ¨¡æ‹Ÿ sectionEnhancer çš„æ ¸å¿ƒåŠŸèƒ½
    function enhanceSection(sectionId, title, content) {
      const enhancements = {
        dataCards: [],
        charts: [],
        tables: []
      }

      // è´¦å·è¯Šæ–­
      if (title.includes('è´¦å·è¯Šæ–­') || title.includes('ç°çŠ¶åˆ†æ')) {
        enhancements.dataCards = [
          { label: 'è´¦å·å¥åº·åº¦', value: '75åˆ†', color: '#3b82f6' },
          { label: 'å†…å®¹è´¨é‡', value: 'è‰¯å¥½', color: '#10b981' },
          { label: 'äº’åŠ¨ç‡', value: '3.2%', color: '#f59e0b' },
          { label: 'æ¶¨ç²‰æ½œåŠ›', value: 'é«˜', color: '#ef4444' }
        ]
      }

      // èµ·å·ä¸‰å¤©è®¡åˆ’
      if (title.includes('ä¸‰å¤©') || title.includes('å¿«é€Ÿèµ·å·')) {
        enhancements.dataCards = [
          { label: 'ç›®æ ‡ç²‰ä¸', value: '500+', color: '#3b82f6' },
          { label: 'å‘å¸ƒç¬”è®°', value: '9ç¯‡', color: '#10b981' },
          { label: 'é¢„è®¡æ›å…‰', value: '5000+', color: '#f59e0b' }
        ]
        
        enhancements.tables = [{
          title: 'ä¸‰å¤©è¡ŒåŠ¨è®¡åˆ’',
          headers: ['æ—¶é—´', 'ä»»åŠ¡', 'ç›®æ ‡', 'å…³é”®æŒ‡æ ‡'],
          rows: [
            ['ç¬¬1å¤©', 'è´¦å·ä¼˜åŒ–+å‘å¸ƒ3ç¯‡', 'å®ŒæˆåŸºç¡€è®¾ç½®', 'æ›å…‰1000+'],
            ['ç¬¬2å¤©', 'æŒç»­è¾“å‡º+äº’åŠ¨', 'å‘å¸ƒ3ç¯‡ç¬”è®°', 'ç²‰ä¸100+'],
            ['ç¬¬3å¤©', 'çˆ†æ¬¾å†²åˆº', '1ç¯‡çˆ†æ¬¾ç¬”è®°', 'ç²‰ä¸300+']
          ]
        }]
      }

      // å†…å®¹ç­–ç•¥
      if (title.includes('å†…å®¹ç­–ç•¥') || title.includes('å†…å®¹è§„åˆ’')) {
        enhancements.dataCards = [
          { label: 'å†…å®¹ç±»å‹', value: '5ç§', color: '#3b82f6' },
          { label: 'å‘å¸ƒé¢‘ç‡', value: 'æ—¥æ›´', color: '#10b981' },
          { label: 'æœ€ä½³æ—¶æ®µ', value: '19-21ç‚¹', color: '#f59e0b' }
        ]
      }

      // ç«‹åˆ»è¡ŒåŠ¨æ¸…å•
      if (title.includes('è¡ŒåŠ¨æ¸…å•') || title.includes('æ‰§è¡Œè®¡åˆ’')) {
        enhancements.dataCards = [
          { label: 'æ€»ä»»åŠ¡æ•°', value: '12é¡¹', color: '#3b82f6' },
          { label: 'ä¼˜å…ˆçº§é«˜', value: '5é¡¹', color: '#ef4444' },
          { label: 'é¢„è®¡è€—æ—¶', value: '2å°æ—¶', color: '#10b981' }
        ]
        
        enhancements.tables = [{
          title: 'ä»»åŠ¡æ‰§è¡Œæ¸…å•',
          headers: ['ä»»åŠ¡', 'ä¼˜å…ˆçº§', 'é¢„è®¡æ—¶é—´', 'å®ŒæˆçŠ¶æ€'],
          rows: [
            ['å®Œå–„è´¦å·èµ„æ–™', 'é«˜', '15åˆ†é’Ÿ', 'â¬œ å¾…å®Œæˆ'],
            ['å‡†å¤‡3ç¯‡å†…å®¹', 'é«˜', '60åˆ†é’Ÿ', 'â¬œ å¾…å®Œæˆ'],
            ['è®¾ç½®å‘å¸ƒè®¡åˆ’', 'ä¸­', '10åˆ†é’Ÿ', 'â¬œ å¾…å®Œæˆ'],
            ['å…³æ³¨åŒé¢†åŸŸè´¦å·', 'ä¸­', '20åˆ†é’Ÿ', 'â¬œ å¾…å®Œæˆ']
          ]
        }]
      }

      return enhancements
    }

    function renderDataCards(cards) {
      if (!cards || cards.length === 0) return ''
      
      const cardsHtml = cards.map(card => `
        <div class="doc-data-card" style="border-left-color: ${card.color}">
          <div class="card-label">${card.label}</div>
          <div class="card-value" style="color: ${card.color}">${card.value}</div>
        </div>
      `).join('')
      
      return `<div class="doc-data-cards">${cardsHtml}</div>`
    }

    function renderTables(tables) {
      if (!tables || tables.length === 0) return ''
      
      return tables.map(table => {
        const headersHtml = table.headers.map(h => `<th>${h}</th>`).join('')
        const rowsHtml = table.rows.map(row => 
          `<tr>${row.map(cell => `<td>${cell}</td>`).join('')}</tr>`
        ).join('')
        
        return `
          <div class="doc-table-title">${table.title}</div>
          <table class="doc-table">
            <thead><tr>${headersHtml}</tr></thead>
            <tbody>${rowsHtml}</tbody>
          </table>
        `
      }).join('')
    }

    // è¿è¡Œæµ‹è¯•
    function runTests() {
      // æµ‹è¯• 1: è´¦å·è¯Šæ–­
      const test1 = enhanceSection(1, 'è´¦å·è¯Šæ–­ä¸ç°çŠ¶åˆ†æ', '...')
      document.getElementById('test1-result').innerHTML = `
        <div class="status success">âœ… ç”Ÿæˆäº† ${test1.dataCards.length} ä¸ªæ•°æ®å¡ç‰‡</div>
        ${renderDataCards(test1.dataCards)}
      `

      // æµ‹è¯• 2: èµ·å·ä¸‰å¤©è®¡åˆ’
      const test2 = enhanceSection(2, 'èµ·å·ä¸‰å¤©å¿«é€Ÿè®¡åˆ’', '...')
      document.getElementById('test2-result').innerHTML = `
        <div class="status success">âœ… ç”Ÿæˆäº† ${test2.dataCards.length} ä¸ªæ•°æ®å¡ç‰‡å’Œ ${test2.tables.length} ä¸ªè¡¨æ ¼</div>
        ${renderDataCards(test2.dataCards)}
        ${renderTables(test2.tables)}
      `

      // æµ‹è¯• 3: å†…å®¹ç­–ç•¥
      const test3 = enhanceSection(3, 'å†…å®¹ç­–ç•¥ä¸è§„åˆ’', '...')
      document.getElementById('test3-result').innerHTML = `
        <div class="status success">âœ… ç”Ÿæˆäº† ${test3.dataCards.length} ä¸ªæ•°æ®å¡ç‰‡</div>
        ${renderDataCards(test3.dataCards)}
      `

      // æµ‹è¯• 4: ç«‹åˆ»è¡ŒåŠ¨æ¸…å•
      const test4 = enhanceSection(12, 'ç«‹åˆ»è¡ŒåŠ¨æ¸…å•', '...')
      document.getElementById('test4-result').innerHTML = `
        <div class="status success">âœ… ç”Ÿæˆäº† ${test4.dataCards.length} ä¸ªæ•°æ®å¡ç‰‡å’Œ ${test4.tables.length} ä¸ªè¡¨æ ¼</div>
        ${renderDataCards(test4.dataCards)}
        ${renderTables(test4.tables)}
      `
    }

    // é¡µé¢åŠ è½½åè¿è¡Œæµ‹è¯•
    runTests()
  </script>
</body>
</html>
