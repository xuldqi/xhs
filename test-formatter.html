<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Content Formatter æµ‹è¯•</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      max-width: 900px;
      margin: 40px auto;
      padding: 20px;
      background: #f5f7fa;
    }
    
    .test-section {
      background: white;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 24px;
    }
    
    h2 {
      color: #333;
      margin-bottom: 16px;
    }
    
    .input-text {
      width: 100%;
      min-height: 200px;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-family: monospace;
      font-size: 14px;
      margin-bottom: 16px;
    }
    
    button {
      background: #409EFF;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
    }
    
    button:hover {
      background: #66b1ff;
    }
    
    .output {
      margin-top: 24px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
    }
    
    /* å¤åˆ¶ GuideView çš„æ ·å¼ */
    .content-block {
      background: #f8f9fa;
      border-left: 4px solid #409EFF;
      border-radius: 8px;
      padding: 20px 24px;
      margin: 16px 0;
    }
    
    .success-block {
      background: linear-gradient(135deg, #f6ffed 0%, #d9f7be 100%);
      border-left-color: #52c41a;
    }
    
    .warning-block {
      background: linear-gradient(135deg, #fff7e6 0%, #fffbf0 100%);
      border-left-color: #faad14;
    }
    
    .info-block {
      background: linear-gradient(135deg, #e6f7ff 0%, #f0f9ff 100%);
      border-left-color: #1890ff;
    }
    
    .block-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
    }
    
    .block-icon {
      font-size: 1.4rem;
    }
    
    .block-title {
      font-size: 1.05rem;
      font-weight: 600;
      color: #333;
    }
    
    .block-content {
      color: #666;
      line-height: 1.8;
    }
    
    .block-content ul {
      margin: 8px 0;
      padding-left: 24px;
    }
    
    .block-content li {
      margin: 6px 0;
    }
  </style>
</head>
<body>
  <div class="test-section">
    <h2>æµ‹è¯• Content Formatter</h2>
    <p>è¾“å…¥å¸¦ emoji æ ‡è®°çš„å†…å®¹ï¼Œæµ‹è¯•æ ¼å¼åŒ–æ•ˆæœï¼š</p>
    
    <textarea class="input-text" id="input">âœ… è´¦å·ä¼˜åŠ¿

- å†…å®¹å®šä½æ¸…æ™°ï¼Œä¸“æ³¨ç¾å¦†é¢†åŸŸ
- å·²æœ‰å†…å®¹ç§¯ç´¯ï¼Œå¯ä»¥ä¼˜åŒ–è¿­ä»£
- èµ·å·é˜¶æ®µï¼Œå¢é•¿ç©ºé—´å¤§

âš ï¸ éœ€è¦æ”¹è¿›

- ç²‰ä¸åŸºæ•°è¾ƒä½ï¼Œéœ€è¦å†·å¯åŠ¨ç­–ç•¥
- å†…å®¹æ›å…‰åº¦ä¸è¶³
- äº’åŠ¨ç‡éœ€è¦æå‡

ğŸ’¡ æ¶¨ç²‰é¢„æœŸ

éš¾åº¦ç­‰çº§ï¼šä¸­ç­‰
é¢„è®¡æ—¶é—´ï¼š4-6å‘¨</textarea>
    
    <button onclick="testFormat()">æ ¼å¼åŒ–</button>
    
    <div class="output" id="output"></div>
  </div>
  
  <script>
    // ç®€åŒ–ç‰ˆçš„ parseContentBlocks
    function parseContentBlocks(content) {
      const lines = content.split('\n').map(line => line.trim()).filter(line => line);
      const blocks = [];
      let currentBlock = null;
      
      for (const line of lines) {
        // ä½¿ç”¨ Unicode å±æ€§åŒ¹é… emojiï¼Œæ”¯æŒå˜ä½“é€‰æ‹©ç¬¦
        const blockMatch = line.match(/^([\u{1F300}-\u{1F9FF}\u{2600}-\u{26FF}\u{2700}-\u{27BF}][\uFE00-\uFE0F]?)\s*(.+)$/u);
        
        if (blockMatch) {
          if (currentBlock) {
            blocks.push(currentBlock);
          }
          
          const icon = blockMatch[1];
          const title = blockMatch[2];
          
          // ä½¿ç”¨ includes æ¥åŒ¹é…ï¼Œå› ä¸ºå¯èƒ½æœ‰å˜ä½“é€‰æ‹©ç¬¦
          let type = 'default';
          if (icon.includes('âœ…')) type = 'success';
          else if (icon.includes('âš ')) type = 'warning';
          else if (icon.includes('ğŸ’¡')) type = 'info';
          
          currentBlock = {
            type,
            title,
            content: [],
            icon
          };
        } else if (currentBlock) {
          currentBlock.content.push(line);
        }
      }
      
      if (currentBlock) {
        blocks.push(currentBlock);
      }
      
      return blocks;
    }
    
    function generateBlocksHtml(blocks) {
      return blocks.map(block => {
        const className = `content-block ${block.type}-block`;
        const contentHtml = block.content.map(line => {
          if (line.match(/^[â€¢\-]\s/)) {
            return `<li>${line.substring(2)}</li>`;
          }
          return `<p>${line}</p>`;
        }).join('\n');
        
        const hasListItems = block.content.some(line => line.match(/^[â€¢\-]\s/));
        const wrappedContent = hasListItems 
          ? `<ul>${contentHtml}</ul>`
          : contentHtml;
        
        return `
          <div class="${className}">
            <div class="block-header">
              <span class="block-icon">${block.icon}</span>
              <span class="block-title">${block.title}</span>
            </div>
            <div class="block-content">
              ${wrappedContent}
            </div>
          </div>
        `;
      }).join('\n');
    }
    
    function testFormat() {
      const input = document.getElementById('input').value;
      const blocks = parseContentBlocks(input);
      
      // è¯¦ç»†è°ƒè¯•ä¿¡æ¯
      console.log('=== è§£æç»“æœ ===');
      blocks.forEach((block, index) => {
        console.log(`Block ${index + 1}:`, block);
        console.log(`  - Icon: "${block.icon}" (U+${block.icon.codePointAt(0).toString(16).toUpperCase()})`);
        console.log(`  - Title: "${block.title}"`);
        console.log(`  - Type: "${block.type}"`);
        console.log(`  - CSS Class: "content-block ${block.type}-block"`);
      });
      
      const html = generateBlocksHtml(blocks);
      document.getElementById('output').innerHTML = html;
      
      console.log('=== ç”Ÿæˆçš„ HTML ===');
      console.log(html);
    }
    
    // è‡ªåŠ¨æµ‹è¯•
    testFormat();
  </script>
</body>
</html>
